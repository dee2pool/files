## 任务执行流程

---

触发条件:用户进入任务中心->任务管理->点击添加任务按钮

执行参数:基础参数(任务类型、优先级、任务id)，子系统具体服务参数(设备信息、额外参数)

执行流程:用户点击提交后将任务提交给任务客户端，任务客户端将用户提交的参数进行封装后提交给lts任务调度框架，lts可以在相应的时间触发执行模块，执行模块可以通过grpc与能力服务通信，能力服务通过执行模块传递的具体的服务模块调用相应的服务模块与设备网关通信(具体参考时序图)。提交完成后用户可以在任务管理页面看到已经提交的任务。设备网关返回具体任务执行结果后用户可以通过任务看板查看具体任务执行成功或者失败。

![时序图](C:\Users\DELL\Desktop\QQ图片20181118211302.png)